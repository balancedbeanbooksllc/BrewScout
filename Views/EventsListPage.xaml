<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="BrewScout.Views.EventsListPage"
             Title="Events">
  <Grid RowDefinitions="Auto,Auto,*" Padding="16">
    <SearchBar x:Name="Search" Grid.Row="0" Placeholder="Search title, city, category" />
    <Grid Grid.Row="1" ColumnDefinitions="*,Auto" ColumnSpacing="8" Margin="0,8,0,8">
      <Picker x:Name="CategoryPicker" Grid.Column="0" Title="Category" />
      <Button Grid.Column="1" Text="Add Event" Clicked="AddEvent_Clicked" />
    </Grid>
    <CollectionView Grid.Row="2" x:Name="List" SelectionMode="Single">
      <CollectionView.ItemTemplate>
        <DataTemplate>
          <Frame Padding="12" Margin="0,6" HasShadow="True">
            <VerticalStackLayout>
              <Label Text="{Binding Title}" FontAttributes="Bold" />
              <Label Text="{Binding StartLocal, StringFormat='{0:ddd, MMM d h:mm tt}'}" />
              <Label Text="{Binding VenueName}" FontSize="12" />
              <Button Text="Details" CommandParameter="{Binding .}" Clicked="Open_Clicked"/>
            </VerticalStackLayout>
          </Frame>
        </DataTemplate>
      </CollectionView.ItemTemplate>
    </CollectionView>
  </Grid>
</ContentPage>
